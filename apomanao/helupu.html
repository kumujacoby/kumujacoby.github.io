<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="HandheldFriendly" content="true">
    <title>Helu PÅ« - Hawaiian Counting Tool</title>
    <style>
        /* Base Variables - Using Kamehameha Colors */
        :root {
            --navy: #1E3057;
            --royal-blue: #5480E8;
            --white: #FFFFFF;
            --light-gray: #F0F0F0;
            --dark-teal: #3A5350;
            --teal: #40816E;
            --brown: #906841;
            --gold: #C79756;
            --rust: #A64331;
            --terra-cotta: #C64F3A;
            --burgundy: #5C1A2D;
            --rose: #833043;
            
            /* Swiss Design Grid Units */
            --grid-base: 8px;
            --grid-2x: 16px;
            --grid-3x: 24px;
            --grid-4x: 32px;
            --grid-5x: 40px;
            --grid-6x: 48px;
            --grid-8x: 64px;
            --grid-10x: 80px;
            --grid-12x: 96px;
            
            /* Typography Scale */
            --text-xs: 14px;
            --text-sm: 16px;
            --text-md: 20px;
            --text-lg: 24px;
            --text-xl: 32px;
            --text-2xl: 42px;
            --text-3xl: 56px;
            --text-4xl: 72px;
            
            /* Line Heights */
            --leading-tight: 1.1;
            --leading-normal: 1.3;
            --leading-relaxed: 1.5;
        }
        
        /* Reset & Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }
        
        html, body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            font-size: var(--text-sm);
            line-height: var(--leading-normal);
            color: var(--navy);
            background-color: var(--navy);
            overflow-x: hidden;
            height: 100%;
            width: 100%;
        }
        
        /* Layout Container with 8px Grid */
        .container {
            max-width: 1024px;
            margin: var(--grid-3x) auto;
            padding: 0 var(--grid-2x);
            display: flex;
            flex-direction: column;
            min-height: calc(100vh - var(--grid-6x));
        }
        
        .main-container {
            width: 100%;
            background-color: var(--white);
            border-radius: var(--grid-3x);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        }
        
        /* Header */
        .header {
            background-color: var(--rust);
            color: var(--white);
            padding: 0;
            text-align: center;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 100;
            height: 54px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .header h1 {
            font-family: 'Helvetica Neue', sans-serif;
            font-size: 36px;
            letter-spacing: -0.02em;
            margin: 0;
            line-height: 1.1;
        }
        
        .nav-arrow {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            color: var(--white);
            text-decoration: none;
            display: flex;
            align-items: center;
            padding: 0 24px;
            transition: background-color 0.2s;
            border-right: 1px solid white;
            font-size: 24px;
            font-weight: bold;
        }
        
        .nav-arrow:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Content area */
        .content {
            padding: var(--grid-4x);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* Number Display */
        .number-display {
            font-family: 'Futura', sans-serif;
            background-color: var(--light-gray);
            border: 2px solid #ddd;
            border-radius: var(--grid-base);
            padding: var(--grid-4x) var(--grid-2x);
            min-height: 230px;
            margin-bottom: var(--grid-3x);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s;
            position: relative;
        }
        
        .number-display:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 15px rgba(84, 128, 232, 0.5);
            background-color: #f0f0f0;
            border-color: var(--royal-blue);
        }
        
        .arabic-number {
            font-size: var(--text-3xl);
            color: var(--navy);
            margin-bottom: var(--grid-base);
            font-weight: ;
        }
        
        .hawaiian-number {
            font-size: var(--text-xl);
            color: var(--navy);
            text-align: center;
            line-height: 1.2;
        }
        
        /* Control Buttons */
        .controls {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: var(--grid-2x);
            margin-bottom: var(--grid-3x);
        }
        
        .control-btn {
            padding: var(--grid-2x);
            border: none;
            border-radius: var(--grid-base);
            cursor: pointer;
            font-size: var(--text-sm);
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease, transform 0.2s;
        }
        
        .control-btn:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .control-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* Systematic color application */
        .reset-btn { background-color: var(--rose); color: var(--white); }
        .reset-btn:hover { background-color: var(--burgundy); }
        
        .button-emoji {
            font-size: var(--text-md);
            margin-right: var(--grid-base);
        }
        
        /* Emoji type selector */
        .section-title {
            font-weight: bold;
            margin-bottom: var(--grid-base);
            font-size: var(--text-md);
        }
        
        .emoji-type-selector {
            margin-bottom: var(--grid-4x);
        }
        
        .emoji-chips {
            display: flex;
            flex-wrap: wrap;
            gap: var(--grid-base);
            margin-bottom: var(--grid-2x);
        }
        
        .emoji-chip {
            background-color: var(--white);
            border: 2px solid var(--light-gray);
            border-radius: var(--grid-base);
            padding: var(--grid-base) var(--grid-1x);
            font-size: var(--text-xl);
            cursor: pointer;
            transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .emoji-chip:hover {
            transform: scale(1.05);
            border-color: var(--navy);
            z-index: 2;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .emoji-chip:active {
            transform: scale(0.95);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            transition: all 0.1s;
        }
        
        /* Objects Container */
        .count-area {
            background-color: var(--light-gray);
            border: 2px solid #ddd;
            border-radius: var(--grid-base);
            padding: var(--grid-base);
            min-height: 200px;
            margin-bottom: var(--grid-3x);
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-content: flex-start;
        }
        
        .emoji-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.3s ease;
            animation: appear 0.5s forwards;
        }
        
        .emoji-icon {
            font-size: 2.5rem; /* Increased size for emoji */
            padding: 6px;
        }
        
        .emoji-count {
            font-size: 18px;
            font-weight: bold;
            color: var(--navy);
            border-radius: 12px;
            background-color: white;
            min-width: 26px;
            height: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--light-gray);
            margin-top: 2px;
        }
        
        .object {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem; /* Increased size for emoji */
            transition: transform 0.2s ease;
            animation: appear 0.5s forwards;
        }
        
        .object.pulse {
            animation: pulse 0.3s forwards;
        }
        
        @keyframes appear {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* Emoji Display Area */
        .emoji-summary {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .emoji-summary-item {
            display: flex;
            align-items: center;
            background-color: white;
            padding: 4px 12px;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }
        
        .emoji-summary-item.pulse {
            animation: pulse 0.3s forwards;
        }
        
        .emoji-summary-icon {
            font-size: 20px;
            margin-right: 6px;
        }
        
        .emoji-summary-count {
            font-weight: ;
            color: var(--navy);
        }
        
        /* Fullscreen Mode */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--navy);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
        }
        
        .fullscreen-content {
            width: 90%;
            max-width: 800px;
        }
        
        .fullscreen-number {
            font-size: min(20vw, 120px);
            font-family: 'Futura', sans-serif;
            color: var(--white);
            margin-bottom: var(--grid-3x);
        }
        
        .fullscreen-hawaiian {
            font-size: min(8vw, 60px);
            font-family: 'Futura', sans-serif;
            color: var(--gold);
            margin-bottom: var(--grid-5x);
        }
        
        .fullscreen-emojis {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 24px;
            margin-bottom: var(--grid-5x);
        }
        
        .fullscreen-emoji-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .fullscreen-emoji {
            font-size: 4rem;
            margin-bottom: 8px;
        }
        
        .fullscreen-emoji-count {
            font-size: 24px;
            color: white;
            font-weight: bold;
        }
        
        .fullscreen-btn {
            padding: var(--grid-2x) var(--grid-4x);
            background-color: var(--royal-blue);
            color: var(--white);
            border: none;
            border-radius: var(--grid-base);
            font-size: var(--text-md);
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .fullscreen-btn:hover {
            background-color: #3A67D1;
        }
        
        /* Responsive adaptations */
        @media (max-width: 768px) {
            .container {
                padding: 0 var(--grid-base);
                margin: var(--grid-base) auto;
            }
            
            .content {
                padding: var(--grid-2x);
            }
            
            .header h1 {
                font-size: var(--text-xl);
            }
            
            .number-display {
                min-height: 120px;
                padding: var(--grid-3x) var(--grid-base);
            }
            
            .arabic-number {
                font-size: var(--text-2xl);
            }
            
            .hawaiian-number {
                font-size: var(--text-lg);
            }
            
            .controls {
                gap: var(--grid-base);
            }
            
            .control-btn {
                padding: var(--grid-base);
            }
            
            .button-text {
                display: none; /* Hide text on mobile */
            }
            
            .button-emoji {
                margin-right: 0; /* Adjust when text is hidden */
                font-size: var(--text-lg);
            }
            
            .emoji-icon {
                font-size: 2rem; /* Still large enough on mobile but adjusted */
            }
        }
        
        @media (max-width: 480px) {
            .container {
                margin: var(--grid-base) var(--grid-base);
            }
            
            .main-container {
                border-radius: var(--grid-2x);
            }
            
            .count-area {
                gap: var(--grid-base);
                padding: var(--grid-base);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-container">
            <div class="header">
                <a href="index.html" class="nav-arrow" aria-label="Return to main menu">
                    â†
                </a>
                <h1>Helu PÅ«</h1>
            </div>
            
            <div class="content">
                <!-- Number Display -->
                <div id="number-display" class="number-display">
                    <div id="arabic-number" class="arabic-number">0</div>
                    <div id="hawaiian-number" class="hawaiian-number">Ê»ole</div>
                    <div id="emoji-summary" class="emoji-summary"></div>
                </div>
                
                <!-- Controls -->
                <div class="controls">
                    <button id="reset-btn" class="control-btn reset-btn">
                        <span class="button-emoji">ğŸ—‘ï¸</span>
                        <span class="button-text">KÄªLOI</span>
                    </button>
                </div>
                
                <!-- Settings - Changed to emoji buttons -->
                <div class="emoji-type-selector">
                    <div class="emoji-chips" id="emoji-chips">
                        <!-- Basic shapes and symbols -->
                        <button class="emoji-chip" data-emoji="â­">â­</button>
                        <button class="emoji-chip" data-emoji="ğŸ©·">ğŸ©·</button>
                        <button class="emoji-chip" data-emoji="ğŸ”´">ğŸ”´</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ ">ğŸŸ </button>
                        <button class="emoji-chip" data-emoji="ğŸŸ¡">ğŸŸ¡</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ¢">ğŸŸ¢</button>
                        <button class="emoji-chip" data-emoji="ğŸ”µ">ğŸ”µ</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ£">ğŸŸ£</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ¥">ğŸŸ¥</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ§">ğŸŸ§</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ¨">ğŸŸ¨</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ©">ğŸŸ©</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ¦">ğŸŸ¦</button>
                        <button class="emoji-chip" data-emoji="ğŸŸª">ğŸŸª</button>
                        
                        <!-- Simple nature -->
                        <button class="emoji-chip" data-emoji="ğŸŒº">ğŸŒº</button>
                        <button class="emoji-chip" data-emoji="ğŸŒ´">ğŸŒ´</button>
                        <button class="emoji-chip" data-emoji="ğŸŒŠ">ğŸŒŠ</button>
                        <button class="emoji-chip" data-emoji="â˜€ï¸">â˜€ï¸</button>
                        <button class="emoji-chip" data-emoji="ğŸŒˆ">ğŸŒˆ</button>
                        <button class="emoji-chip" data-emoji="ğŸŒ™">ğŸŒ™</button>
                        <button class="emoji-chip" data-emoji="â›…">â›…</button>
                        <button class="emoji-chip" data-emoji="ğŸ">ğŸ</button>
                        <button class="emoji-chip" data-emoji="ğŸŒ">ğŸŒ</button>
                        <button class="emoji-chip" data-emoji="ğŸ¥¥">ğŸ¥¥</button>
                        
                        <!-- Simple animals -->
                        <button class="emoji-chip" data-emoji="ğŸ¶">ğŸ¶</button>
                        <button class="emoji-chip" data-emoji="ğŸ±">ğŸ±</button>
                        <button class="emoji-chip" data-emoji="ğŸ°">ğŸ°</button>
                        <button class="emoji-chip" data-emoji="ğŸ¢">ğŸ¢</button>
                        <button class="emoji-chip" data-emoji="ğŸŸ">ğŸŸ</button>
                        <button class="emoji-chip" data-emoji="ğŸ ">ğŸ </button>
                        <button class="emoji-chip" data-emoji="ğŸ¬">ğŸ¬</button>
                        <button class="emoji-chip" data-emoji="ğŸ¦‹">ğŸ¦‹</button>
                        <button class="emoji-chip" data-emoji="ğŸ">ğŸ</button>
                        <button class="emoji-chip" data-emoji="ğŸ">ğŸ</button>
                        <button class="emoji-chip" data-emoji="ğŸ¸">ğŸ¸</button>
                        <button class="emoji-chip" data-emoji="ğŸ¦†">ğŸ¦†</button>
                        <button class="emoji-chip" data-emoji="ğŸ˜">ğŸ˜</button>
                        <button class="emoji-chip" data-emoji="ğŸ¦’">ğŸ¦’</button>
                        <button class="emoji-chip" data-emoji="ğŸ¦">ğŸ¦</button>
                        <button class="emoji-chip" data-emoji="ğŸ¥">ğŸ¥</button>
                        
                        <!-- People with medium skin tone -->
                        <button class="emoji-chip" data-emoji="ğŸ‘¶ğŸ½">ğŸ‘¶ğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ§’ğŸ½">ğŸ§’ğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ‘§ğŸ½">ğŸ‘§ğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ‘¦ğŸ½">ğŸ‘¦ğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ‘©ğŸ½">ğŸ‘©ğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ‘¨ğŸ½">ğŸ‘¨ğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ‘µğŸ½">ğŸ‘µğŸ½</button>
                        <button class="emoji-chip" data-emoji="ğŸ‘´ğŸ½">ğŸ‘´ğŸ½</button>
                        
                        <!-- Simple objects for kids -->
                        <button class="emoji-chip" data-emoji="ğŸ ">ğŸ </button>
                        <button class="emoji-chip" data-emoji="ğŸš—">ğŸš—</button>
                        <button class="emoji-chip" data-emoji="ğŸšŒ">ğŸšŒ</button>
                        <button class="emoji-chip" data-emoji="âœï¸">âœï¸</button>
                        <button class="emoji-chip" data-emoji="ğŸ“š">ğŸ“š</button>
                        <button class="emoji-chip" data-emoji="ğŸ§¸">ğŸ§¸</button>
                        <button class="emoji-chip" data-emoji="ğŸˆ">ğŸˆ</button>
                        <button class="emoji-chip" data-emoji="ğŸ">ğŸ</button>
                        <button class="emoji-chip" data-emoji="ğŸ•">ğŸ•</button>
                        <button class="emoji-chip" data-emoji="ğŸ¦">ğŸ¦</button>
                    </div>
                </div>
                
                <!-- Note: Removed redundant count area -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // STEP 1: Cache DOM elements
            const numberDisplay = document.getElementById('number-display');
            const arabicNumber = document.getElementById('arabic-number');
            const hawaiianNumber = document.getElementById('hawaiian-number');
            const emojiSummary = document.getElementById('emoji-summary');
            const resetBtn = document.getElementById('reset-btn');
            const countArea = document.getElementById('count-area');
            const emojiChips = document.querySelectorAll('.emoji-chip');
            
            // STEP 2: Initialize state variables
            let totalCount = 0;
            let emojiCounts = {}; // Object to track count of each emoji
            
            // STEP 3: Define Hawaiian number conversion function
            function toHawaiian(num) {
                // Base numbers
                const units = ['', 'kahi', 'lua', 'kolu', 'hÄ', 'lima', 'ono', 'hiku', 'walu', 'iwa'];
                const units_e = ['', 'Ê»ekahi', 'Ê»elua', 'Ê»ekolu', 'Ê»ehÄ', 'Ê»elima', 'Ê»eono', 'Ê»ehiku', 'Ê»ewalu', 'Ê»eiwa'];
                
                // Special case: 0
                if (num === 0) return 'Ê»ole';
                
                // Special case: 1,000,000 to 9,999,999
                if (num >= 1000000 && num < 10000000) {
                    const millions = Math.floor(num / 1000000);
                    const remainder = num % 1000000;
                    
                    let result = millions === 1 ? 'hoÊ»okahi miliona' : toHawaiian(millions) + ' miliona';
                    
                    if (remainder > 0) {
                        result += ' ' + toHawaiian(remainder);
                    }
                    
                    return result;
                }
                
                // Special case: 100,000 to 999,999
                if (num >= 100000 && num < 1000000) {
                    const lau = Math.floor(num / 100000);
                    const remainder = num % 100000;
                    
                    let result = lau === 1 ? 'hoÊ»okahi lau' : toHawaiian(lau) + ' lau';
                    
                    if (remainder > 0) {
                        result += ' ' + toHawaiian(remainder);
                    }
                    
                    return result;
                }
                
                // Special case: 10,000 to 99,999
                if (num >= 10000 && num < 100000) {
                    const tenThousands = Math.floor(num / 10000);
                    const remainder = num % 10000;
                    
                    let result = '';
                    if (tenThousands === 1) {
                        result = 'Ê»umi kaukani';
                    } else if (tenThousands >= 2 && tenThousands <= 9) {
                        result = units_e[tenThousands] + ' Ê»umi kaukani';
                    } else {
                        result = toHawaiian(tenThousands) + ' Ê»umi kaukani';
                    }
                    
                    if (remainder > 0) {
                        result += ' ' + toHawaiian(remainder);
                    }
                    
                    return result;
                }
                
                // Special case: 1,000 to 9,999
                if (num >= 1000 && num < 10000) {
                    const thousands = Math.floor(num / 1000);
                    const remainder = num % 1000;
                    
                    let result = thousands === 1 ? 'hoÊ»okahi kaukani' : toHawaiian(thousands) + ' kaukani';
                    
                    if (remainder > 0) {
                        result += ' ' + toHawaiian(remainder);
                    }
                    
                    return result;
                }
                
                // Special case: 100 to 999
                if (num >= 100 && num < 1000) {
                    const hundreds = Math.floor(num / 100);
                    const remainder = num % 100;
                    
                    let result = hundreds === 1 ? 'hoÊ»okahi haneli' : toHawaiian(hundreds) + ' haneli';
                    
                    if (remainder > 0) {
                        result += ' ' + toHawaiian(remainder);
                    }
                    
                    return result;
                }
                
                // Special cases: 11-19
                if (num > 10 && num < 20) {
                    return 'Ê»umikÅ«mÄ' + units[num - 10];
                }
                
                // Special case: 20, 30, 40, etc.
                if (num >= 20 && num < 100) {
                    const tens = Math.floor(num / 10);
                    const remainder = num % 10;
                    
                    let tensName = '';
                    if (tens === 2) {
                        tensName = 'iwakÄlua';
                    } else if (tens === 3) {
                        tensName = 'kanakolu';
                    } else if (tens === 4) {
                        tensName = 'kanahÄ';
                    } else if (tens === 5) {
                        tensName = 'kanalima';
                    } else if (tens === 6) {
                        tensName = 'kanaono';
                    } else if (tens === 7) {
                        tensName = 'kanahiku';
                    } else if (tens === 8) {
                        tensName = 'kanawalu';
                    } else if (tens === 9) {
                        tensName = 'kanaiwa';
                    }
                    
                    if (remainder === 0) {
                        return tensName;
                    } else {
                        return tensName + 'kÅ«mÄ' + units[remainder];
                    }
                }
                
                // Special case: 10
                if (num === 10) return 'Ê»umi';
                
                // Numbers 1-9
                return units_e[num];
            }
            
            // STEP 4: Define core functions
            
            // Update the display
            function updateDisplay() {
                // Calculate total count
                totalCount = Object.values(emojiCounts).reduce((sum, count) => sum + count, 0);
                
                // Update number displays
                arabicNumber.textContent = totalCount;
                hawaiianNumber.textContent = toHawaiian(totalCount);
                
                // Update emoji summary
                updateEmojiSummary();
                
                // We've removed the redundant objects display
            }
            
            // Update emoji summary
            function updateEmojiSummary() {
                emojiSummary.innerHTML = '';
                
                // Only show summary if there are emojis
                if (totalCount > 0) {
                    Object.entries(emojiCounts).forEach(([emoji, count]) => {
                        if (count > 0) {
                            const summaryItem = document.createElement('div');
                            summaryItem.className = 'emoji-summary-item';
                            
                            const emojiIcon = document.createElement('span');
                            emojiIcon.className = 'emoji-summary-icon';
                            emojiIcon.textContent = emoji;
                            
                            const countSpan = document.createElement('span');
                            countSpan.className = 'emoji-summary-count';
                            countSpan.textContent = count;
                            
                            summaryItem.appendChild(emojiIcon);
                            summaryItem.appendChild(countSpan);
                            emojiSummary.appendChild(summaryItem);
                        }
                    });
                }
            }
            
                            // Update objects in count area - removed since this is redundant
            function updateObjects() {
                // This function is now empty as we're removing the redundant display
                // All the emoji information is already shown in the emoji summary
            }
            
            // Add emoji
            function addEmoji(emoji) {
                // Initialize if not exist
                if (!emojiCounts[emoji]) {
                    emojiCounts[emoji] = 0;
                }
                
                // Increment count
                emojiCounts[emoji]++;
                
                // Update display
                updateDisplay();
                
                // Apply pulse animation to the emoji in the summary
                setTimeout(() => {
                    const summaryItems = emojiSummary.querySelectorAll('.emoji-summary-item');
                    summaryItems.forEach(item => {
                        const icon = item.querySelector('.emoji-summary-icon');
                        if (icon && icon.textContent === emoji) {
                            item.classList.add('pulse');
                            setTimeout(() => {
                                item.classList.remove('pulse');
                            }, 300);
                        }
                    });
                }, 50);
            }
            
            // Reset counts
            function resetCounts() {
                emojiCounts = {};
                totalCount = 0;
                updateDisplay();
            }
            
            // Open fullscreen display
            function openFullscreen() {
                // Only show fullscreen if there are emojis
                if (totalCount === 0) return;
                
                // Create fullscreen overlay
                const overlay = document.createElement('div');
                overlay.className = 'fullscreen-overlay';
                
                // Create content container
                const content = document.createElement('div');
                content.className = 'fullscreen-content';
                
                // Add number display
                const fullscreenNumber = document.createElement('div');
                fullscreenNumber.className = 'fullscreen-number';
                fullscreenNumber.textContent = totalCount;
                content.appendChild(fullscreenNumber);
                
                // Add Hawaiian display
                const fullscreenHawaiian = document.createElement('div');
                fullscreenHawaiian.className = 'fullscreen-hawaiian';
                fullscreenHawaiian.textContent = toHawaiian(totalCount);
                content.appendChild(fullscreenHawaiian);
                
                // Add emoji display
                const emojisContainer = document.createElement('div');
                emojisContainer.className = 'fullscreen-emojis';
                
                // Add each emoji type
                Object.entries(emojiCounts).forEach(([emoji, count]) => {
                    if (count > 0) {
                        const emojiGroup = document.createElement('div');
                        emojiGroup.className = 'fullscreen-emoji-group';
                        
                        const emojiElement = document.createElement('div');
                        emojiElement.className = 'fullscreen-emoji';
                        emojiElement.textContent = emoji;
                        
                        const countElement = document.createElement('div');
                        countElement.className = 'fullscreen-emoji-count';
                        countElement.textContent = count;
                        
                        emojiGroup.appendChild(emojiElement);
                        emojiGroup.appendChild(countElement);
                        emojisContainer.appendChild(emojiGroup);
                    }
                });
                
                content.appendChild(emojisContainer);
                
                // Add close button
                const closeButton = document.createElement('button');
                closeButton.className = 'fullscreen-btn';
                closeButton.textContent = 'E HOÊ»I';
                closeButton.addEventListener('click', () => {
                    document.body.removeChild(overlay);
                });
                
                content.appendChild(closeButton);
                overlay.appendChild(content);
                
                // Add to body
                document.body.appendChild(overlay);
                
                // Add click event to close
                overlay.addEventListener('click', (event) => {
                    if (event.target === overlay) {
                        document.body.removeChild(overlay);
                    }
                });
            }
            
            // STEP 5: Set up emoji chip selection
            function setupEmojiChips() {
                if (!emojiChips || emojiChips.length === 0) {
                    console.error("Emoji chips not found in the DOM");
                    return;
                }
                
                emojiChips.forEach(chip => {
                    chip.addEventListener('click', function() {
                        // Get the emoji from the button
                        const emoji = this.getAttribute('data-emoji');
                        
                        // Flash the button for visual feedback
                        this.classList.add('active');
                        setTimeout(() => {
                            this.classList.remove('active');
                        }, 200);
                        
                        // Add the emoji to our counts
                        addEmoji(emoji);
                    });
                });
            }
            
            // STEP 6: Set up event listeners
            if (resetBtn) {
                resetBtn.addEventListener('click', resetCounts);
            }
            
            if (numberDisplay) {
                numberDisplay.addEventListener('click', openFullscreen);
            }
            
            // Keyboard support
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Delete' || event.key === 'Backspace') {
                    resetCounts();
                }
            });
            
            // STEP 7: Initialize
            setupEmojiChips();
            updateDisplay();
        });
    </script>
</body>
</html>